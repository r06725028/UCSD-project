<!DOCTYPE html>
<meta charset="utf-8">
<style>
text {
  font: 15px sans-serif;
}

.node {
  stroke: #fff;
  stroke-width: 1.5px;
}

.link {
  stroke: #999;
  stroke-opacity: .6;
}



</style>
<body>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="https://rawgithub.com/d3/d3-plugins/master/fisheye/fisheye.js"></script>
<script>

var width = 1440 ,
    height = 960;

var color = d3.scale.category10();


var force = d3.layout.force()
    .charge(-400)
    .linkDistance(500)
    .size([width, height]);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var graph = {"nodes":[
	{"name": "SCR_008158 AGRICOLA", "group": 0, "value": 3.9127995093},
	{"name": "SCR_001905 R Project for Statistical Computing", "group": 6, "value": 9.36429388689},
	{"name": "SCR_008914 MIALAB - Resting State Data", "group": 4, "value": 4.92950301755},
	{"name": "SCR_011215 European Medicines Agency", "group": 0, "value": 4.6346520905},
	{"name": "SCR_000590 LORIS - Longitudinal Online Research and Imaging System", "group": 0, "value": 3.95853508258},
	{"name": "SCR_003837 Big Data Public Private Forum", "group": 0, "value": 3.76563407675},
	{"name": "SCR_006507 Phytozome", "group": 1, "value": 3.69594372252},
	{"name": "SCR_004312 PDBe - Protein Data Bank in Europe", "group": 1, "value": 3.61801050303},
	{"name": "SCR_013151 NIH electronic Research Materials catalogue", "group": 5, "value": 3.55949434611},
	{"name": "SCR_006933 OBIS", "group": 5, "value": 3.54682957019},
	{"name": "SCR_011209 Erasmus University Rotterdam; Rotterdam; Netherlands", "group": 0, "value": 3.41613817051},
	{"name": "SCR_006346 Bill and Melinda Gates Foundation", "group": 0, "value": 3.3},
	{"name": "SCR_008307 Visionary: A Dictionary for the Study of Vision", "group": 0, "value": 3.18119474412},
	{"name": "SCR_009020 Digital Ageing Atlas", "group": 4, "value": 3.12569992162},
	{"name": "SCR_006884 Integrated Service Technology", "group": 0, "value": 3.08544972411},
	{"name": "SCR_013007 HECTOR", "group": 3, "value": 3.0495901364},
	{"name": "SCR_005962 Edgerton Digital Collections", "group": 0, "value": 2.99833287011},
	{"name": "SCR_008528 GAVI", "group": 0, "value": 2.93598365118},
	{"name": "SCR_005252 Kepler", "group": 5, "value": 2.93428015022},
	{"name": "SCR_002805 IMEx - The International Molecular Exchange Consortium", "group": 5, "value": 2.92232783924},
	{"name": "SCR_000271 iFad", "group": 0, "value": 0.787400787401}
],
"links":[
	{"source": 20, "target": 18, "value": 0.818474950056},
	{"source": 20, "target": 9, "value": 0.713968420226},
	{"source": 20, "target": 3, "value": 0.568769472938},
	{"source": 20, "target": 13, "value": 0.783527568127},
	{"source": 20, "target": 11, "value": 0.753605085529},
	{"source": 20, "target": 10, "value": 0.734577843193},
	{"source": 20, "target": 16, "value": 0.806521995916},
	{"source": 20, "target": 4, "value": 0.653975659266},
	{"source": 20, "target": 17, "value": 0.818153545993},
	{"source": 20, "target": 2, "value": 0.535814411358},
	{"source": 20, "target": 7, "value": 0.70308014221},
	{"source": 20, "target": 15, "value": 0.797147445641},
	{"source": 20, "target": 0, "value": 2.90563283989},
	{"source": 20, "target": 8, "value": 0.712014230663},
	{"source": 20, "target": 14, "value": 0.79068651468},
	{"source": 20, "target": 6, "value": 0.691417712589},
	{"source": 20, "target": 5, "value": 0.681209144669},
	{"source": 20, "target": 1, "value": 0.216063449655},
	{"source": 20, "target": 12, "value": 0.77381419972},
	{"source": 20, "target": 19, "value": 0.820735513854},
	{"source": 4, "target": 2, "value": 10.2371346035},
	{"source": 4, "target": 13, "value": 15.433097377},
	{"source": 4, "target": 5, "value": 8.93069559149},
	{"source": 4, "target": 14, "value": 10.6644640955},
	{"source": 4, "target": 0, "value": 7.02626247614},
	{"source": 1, "target": 2, "value": 0.607868673962},
	{"source": 1, "target": 19, "value": 1.84075979144},
	{"source": 1, "target": 10, "value": 1.16886633764},
	{"source": 1, "target": 7, "value": 2.15228991503},
	{"source": 1, "target": 6, "value": 10.2865027181},
	{"source": 1, "target": 14, "value": 4.54853287622},
	{"source": 1, "target": 9, "value": 2.63594890686},
	{"source": 1, "target": 0, "value": 2.67582678808},
	{"source": 19, "target": 3, "value": 11.5677647149},
	{"source": 19, "target": 5, "value": 18.9941284818},
	{"source": 19, "target": 7, "value": 33.8910541561},
	{"source": 19, "target": 8, "value": 27.9944605107},
	{"source": 19, "target": 14, "value": 11.1589318569},
	{"source": 19, "target": 9, "value": 10.0777778768},
	{"source": 19, "target": 0, "value": 17.4221122983},
	{"source": 5, "target": 17, "value": 29.3530810229},
	{"source": 5, "target": 3, "value": 31.0081122952},
	{"source": 5, "target": 7, "value": 4.80437594432},
	{"source": 5, "target": 8, "value": 14.5022467288},
	{"source": 5, "target": 11, "value": 30.6869415636},
	{"source": 5, "target": 14, "value": 18.2941459117},
	{"source": 5, "target": 0, "value": 19.1233306909},
	{"source": 7, "target": 3, "value": 5.03925506603},
	{"source": 7, "target": 0, "value": 10.2429195729},
	{"source": 16, "target": 12, "value": 109.754206958},
	{"source": 16, "target": 14, "value": 7.87111597337},
	{"source": 11, "target": 17, "value": 72.06832848},
	{"source": 11, "target": 14, "value": 6.36713375787},
	{"source": 11, "target": 3, "value": 5.614232413},
	{"source": 6, "target": 0, "value": 13.6261867336},
	{"source": 14, "target": 3, "value": 8.44930395839},
	{"source": 14, "target": 0, "value": 11.7244860209},
	{"source": 9, "target": 8, "value": 10.372652357},
	{"source": 9, "target": 0, "value": 5.45528805224},
	{"source": 0, "target": 8, "value": 12.1959726583},
	{"source": 2, "target": 13, "value": 7.06844563216},
	{"source": 13, "target": 8, "value": 6.7599292733},
	{"source": 3, "target": 8, "value": 3.81520175534}
]}

 force
      .nodes(graph.nodes)
      .links(graph.links)
      .start();

  var link = svg.selectAll(".link")
      .data(graph.links)
      .enter().append("line")
      .attr("class", "link")
      .style("stroke-width", function(d) { return Math.sqrt(d.value); });

  var gnodes = svg.selectAll('g.gnode')
     .data(graph.nodes)
     .enter()
     .append('g')
     .classed('gnode', true); 
      
  var node = gnodes.append("circle")
      .attr("class", "node")
      .attr("r", function(d) { return d.value*8; } )
      .style("fill", function(d) { return color(d.group); })
      .call(force.drag);

  var labels = gnodes.append("text")
      .text(function(d) { return d.name; });

  console.log(labels);
      

  force.on("tick", function() {
    link.attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });

    //node.attr("cx", function(d) { return d.x; })
        //.attr("cy", function(d) { return d.y; });
        
    // Translate the groups
    gnodes.attr("transform", function(d) { 
        return 'translate(' + [d.x, d.y] + ')'; 
    });
    
   
    
    
  });
//});


</script>