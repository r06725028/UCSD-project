<!DOCTYPE html>
<meta charset="utf-8">
<style>
text {
  font: 15px sans-serif;
}

.node {
  stroke: #fff;
  stroke-width: 1.5px;
}

.link {
  stroke: #999;
  stroke-opacity: .6;
}



</style>
<body>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="https://rawgithub.com/d3/d3-plugins/master/fisheye/fisheye.js"></script>
<script>

var width = 1440 ,
    height = 960;

var color = d3.scale.category10();


var force = d3.layout.force()
    .charge(-400)
    .linkDistance(500)
    .size([width, height]);

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height);

var graph = {"nodes":[
	{"name": "SCR_002823 FSL", "group": 4, "value": 4.55411901469},
	{"name": "SCR_003007 ADNI - Alzheimer's Disease Neuroimaging Initiative", "group": 4, "value": 3.58468966579},
	{"name": "SCR_005283 Oxford Centre for Functional MRI of the Brain", "group": 4, "value": 3.36600653594},
	{"name": "SCR_008800 BrainVoyager: Talairach Brain Atlas", "group": 4, "value": 3.3941125497},
	{"name": "SCR_000448 Talairach Daemon", "group": 4, "value": 3.60693775937},
	{"name": "SCR_005927 Analysis of Functional NeuroImages", "group": 4, "value": 2.89654967159},
	{"name": "SCR_007037 SPM", "group": 4, "value": 4.42718872424},
	{"name": "SCR_003430 NITRC", "group": 4, "value": 1.34907375632},
	{"name": "SCR_001812 Neuro-Imaging Platform", "group": 4, "value": 3.25269119346},
	{"name": "SCR_012707 NeuroImage", "group": 4, "value": 3.06757233004},
	{"name": "SCR_009453 CCSeg - Corpus Callosum Segmentation", "group": 4, "value": 2.04694894905},
	{"name": "SCR_004162 NITRC-IR", "group": 4, "value": 1.00995049384},
	{"name": "SCR_009459 DOTS WM tract segmentation", "group": 4, "value": 2.08806130178},
	{"name": "SCR_005989 ARCTIC", "group": 4, "value": 2.30867927612},
	{"name": "SCR_004493 Foundation for the National Institutes of Health", "group": 4, "value": 2.02731349327},
	{"name": "SCR_001643 ExploreDTI", "group": 4, "value": 2.91547594742},
	{"name": "SCR_003141 Neuroimaging Informatics Technology Initiative", "group": 4, "value": 1.808314132},
	{"name": "SCR_005619 3D Slicer", "group": 4, "value": 3.49571165859},
	{"name": "SCR_006942 NIH Human Connectome Project", "group": 4, "value": 2.1},
	{"name": "SCR_005972 MNE - Minimum Norm Current Estimates", "group": 4, "value": 2.3622023622},
	{"name": "SCR_001847 FreeSurfer", "group": 4, "value": 5.08035431835}
],
"links":[
	{"source": 4, "target": 9, "value": 35.4630430362},
	{"source": 4, "target": 3, "value": 924.23542886},
	{"source": 4, "target": 0, "value": 34.552944871},
	{"source": 4, "target": 18, "value": 11.3656633261},
	{"source": 4, "target": 6, "value": 64.2054848405},
	{"source": 4, "target": 1, "value": 17.9454728054},
	{"source": 4, "target": 16, "value": 34.5883660927},
	{"source": 4, "target": 2, "value": 64.1134290856},
	{"source": 4, "target": 10, "value": 22.8706719803},
	{"source": 4, "target": 12, "value": 21.3086121096},
	{"source": 4, "target": 7, "value": 16.0910066996},
	{"source": 4, "target": 15, "value": 32.7426978076},
	{"source": 4, "target": 8, "value": 33.0223309118},
	{"source": 4, "target": 5, "value": 119.303157535},
	{"source": 4, "target": 20, "value": 104.994052953},
	{"source": 4, "target": 13, "value": 60.5779997711},
	{"source": 15, "target": 3, "value": 33.9142475694},
	{"source": 15, "target": 10, "value": 89.5494923395},
	{"source": 15, "target": 12, "value": 112.286037482},
	{"source": 15, "target": 1, "value": 12.0398642779},
	{"source": 15, "target": 8, "value": 25.7886976328},
	{"source": 15, "target": 20, "value": 71.1315921073},
	{"source": 15, "target": 0, "value": 126.65544342},
	{"source": 15, "target": 16, "value": 34.9052991555},
	{"source": 15, "target": 2, "value": 157.454747186},
	{"source": 15, "target": 17, "value": 9.21128166383},
	{"source": 15, "target": 5, "value": 10.5659766644},
	{"source": 15, "target": 13, "value": 35.449290104},
	{"source": 15, "target": 18, "value": 29.5718130474},
	{"source": 15, "target": 6, "value": 7.53693725734},
	{"source": 8, "target": 3, "value": 48.365312686},
	{"source": 8, "target": 10, "value": 26.9623816079},
	{"source": 8, "target": 12, "value": 18.5139735482},
	{"source": 8, "target": 20, "value": 85.2692786073},
	{"source": 8, "target": 0, "value": 27.24761388},
	{"source": 8, "target": 1, "value": 108.67030979},
	{"source": 8, "target": 16, "value": 101.23048228},
	{"source": 8, "target": 7, "value": 59.3281746208},
	{"source": 8, "target": 11, "value": 40.9566455463},
	{"source": 8, "target": 14, "value": 48.0730575744},
	{"source": 8, "target": 9, "value": 7.41371889942},
	{"source": 8, "target": 2, "value": 40.7554106245},
	{"source": 8, "target": 17, "value": 25.3194586899},
	{"source": 8, "target": 5, "value": 9.77539616063},
	{"source": 8, "target": 13, "value": 18.749751751},
	{"source": 8, "target": 18, "value": 59.8873816589},
	{"source": 8, "target": 6, "value": 7.57150056863},
	{"source": 20, "target": 3, "value": 142.597984559},
	{"source": 20, "target": 10, "value": 106.420782879},
	{"source": 20, "target": 12, "value": 93.0426366938},
	{"source": 20, "target": 0, "value": 237.835352147},
	{"source": 20, "target": 1, "value": 223.396271188},
	{"source": 20, "target": 16, "value": 76.2333522314},
	{"source": 20, "target": 7, "value": 144.129819503},
	{"source": 20, "target": 11, "value": 145.904408206},
	{"source": 20, "target": 14, "value": 91.3783568225},
	{"source": 20, "target": 9, "value": 85.633353817},
	{"source": 20, "target": 2, "value": 155.868996381},
	{"source": 20, "target": 17, "value": 49.819809939},
	{"source": 20, "target": 5, "value": 111.821315842},
	{"source": 20, "target": 19, "value": 59.3996044081},
	{"source": 20, "target": 13, "value": 86.8548857933},
	{"source": 20, "target": 18, "value": 67.6660668812},
	{"source": 20, "target": 6, "value": 80.9527793861},
	{"source": 0, "target": 11, "value": 15.1727994347},
	{"source": 0, "target": 9, "value": 50.5474350498},
	{"source": 0, "target": 3, "value": 56.9289994257},
	{"source": 0, "target": 18, "value": 34.6819269638},
	{"source": 0, "target": 6, "value": 113.848565993},
	{"source": 0, "target": 1, "value": 13.979688065},
	{"source": 0, "target": 16, "value": 53.6596976432},
	{"source": 0, "target": 2, "value": 978.222219141},
	{"source": 0, "target": 10, "value": 89.2994044995},
	{"source": 0, "target": 12, "value": 102.639756218},
	{"source": 0, "target": 7, "value": 18.27598952},
	{"source": 0, "target": 17, "value": 9.98513733617},
	{"source": 0, "target": 5, "value": 99.4619163292},
	{"source": 0, "target": 13, "value": 37.9085276525},
	{"source": 1, "target": 14, "value": 499.009325227},
	{"source": 1, "target": 9, "value": 29.4457686094},
	{"source": 1, "target": 3, "value": 26.4737827063},
	{"source": 1, "target": 18, "value": 18.7353530492},
	{"source": 1, "target": 6, "value": 18.0205741839},
	{"source": 1, "target": 16, "value": 30.2599264424},
	{"source": 1, "target": 2, "value": 12.7033049795},
	{"source": 1, "target": 7, "value": 11.9068849145},
	{"source": 1, "target": 10, "value": 20.3098391109},
	{"source": 1, "target": 13, "value": 17.7105758214},
	{"source": 16, "target": 3, "value": 41.7777515179},
	{"source": 16, "target": 10, "value": 33.3145169742},
	{"source": 16, "target": 7, "value": 59.7179091035},
	{"source": 16, "target": 11, "value": 36.5637901162},
	{"source": 16, "target": 2, "value": 68.1896698765},
	{"source": 16, "target": 17, "value": 38.1430104432},
	{"source": 16, "target": 5, "value": 22.6613785799},
	{"source": 16, "target": 13, "value": 14.2554447775},
	{"source": 16, "target": 18, "value": 45.4222573852},
	{"source": 16, "target": 12, "value": 33.0494206763},
	{"source": 7, "target": 11, "value": 265.184793107},
	{"source": 7, "target": 3, "value": 15.1056469817},
	{"source": 7, "target": 18, "value": 54.7636267421},
	{"source": 7, "target": 6, "value": 10.6029204565},
	{"source": 7, "target": 2, "value": 19.6455508204},
	{"source": 7, "target": 17, "value": 23.8941871296},
	{"source": 7, "target": 5, "value": 16.2721154251},
	{"source": 11, "target": 3, "value": 14.1130915485},
	{"source": 11, "target": 18, "value": 41.094582286},
	{"source": 11, "target": 2, "value": 17.3939148363},
	{"source": 11, "target": 17, "value": 17.1154890272},
	{"source": 2, "target": 9, "value": 30.5840620279},
	{"source": 2, "target": 3, "value": 80.3105457421},
	{"source": 2, "target": 18, "value": 43.5089667088},
	{"source": 2, "target": 6, "value": 26.0730288695},
	{"source": 2, "target": 12, "value": 170.054335957},
	{"source": 2, "target": 10, "value": 163.839334779},
	{"source": 2, "target": 17, "value": 10.9906197434},
	{"source": 2, "target": 5, "value": 60.2070402167},
	{"source": 2, "target": 13, "value": 54.8820959788},
	{"source": 17, "target": 3, "value": 9.03731994846},
	{"source": 17, "target": 18, "value": 9.28987818506},
	{"source": 17, "target": 10, "value": 21.9195210019},
	{"source": 17, "target": 12, "value": 16.5159442628},
	{"source": 17, "target": 5, "value": 6.3978695751},
	{"source": 5, "target": 9, "value": 22.9958660105},
	{"source": 5, "target": 3, "value": 95.7440616229},
	{"source": 5, "target": 18, "value": 25.2819934962},
	{"source": 5, "target": 6, "value": 63.592954189},
	{"source": 19, "target": 9, "value": 8.24579471594},
	{"source": 13, "target": 9, "value": 18.07870565},
	{"source": 13, "target": 3, "value": 73.3145203157},
	{"source": 13, "target": 18, "value": 14.6337412863},
	{"source": 13, "target": 10, "value": 66.1269334511},
	{"source": 13, "target": 12, "value": 26.638412239},
	{"source": 18, "target": 3, "value": 20.6331411461},
	{"source": 18, "target": 10, "value": 23.2035192951},
	{"source": 18, "target": 12, "value": 19.8911013409},
	{"source": 6, "target": 9, "value": 84.0665463855},
	{"source": 6, "target": 3, "value": 17.8642848982},
	{"source": 3, "target": 9, "value": 26.7607686052},
	{"source": 3, "target": 10, "value": 37.8827612898},
	{"source": 3, "target": 12, "value": 38.9838865475},
	{"source": 10, "target": 12, "value": 286.788268779}
]}

 force
      .nodes(graph.nodes)
      .links(graph.links)
      .start();

  var link = svg.selectAll(".link")
      .data(graph.links)
      .enter().append("line")
      .attr("class", "link")
      .style("stroke-width", function(d) { return Math.sqrt(d.value); });

  var gnodes = svg.selectAll('g.gnode')
     .data(graph.nodes)
     .enter()
     .append('g')
     .classed('gnode', true); 
      
  var node = gnodes.append("circle")
      .attr("class", "node")
      .attr("r", function(d) { return d.value*8; } )
      .style("fill", function(d) { return color(d.group); })
      .call(force.drag);

  var labels = gnodes.append("text")
      .text(function(d) { return d.name; });

  console.log(labels);
      

  force.on("tick", function() {
    link.attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });

    //node.attr("cx", function(d) { return d.x; })
        //.attr("cy", function(d) { return d.y; });
        
    // Translate the groups
    gnodes.attr("transform", function(d) { 
        return 'translate(' + [d.x, d.y] + ')'; 
    });
    
   
    
    
  });
//});


</script>